<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="592px" preserveAspectRatio="none" style="width:442px;height:592px;background:#FFFFFF;" version="1.1" viewBox="0 0 442 592" width="442px" zoomAndPan="magnify"><defs><filter height="300%" id="f17xfgjgxqafxa" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:none;stroke-width:1.5;" x1="105.5" x2="315" y1="10" y2="10"/><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="36" x="87.5" y="31.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="16" x="97.5" y="52.6387">Fill</text><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="84" x="63.5" y="85.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64" x="73.5" y="106.6074">lock buffer</text><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="189" x="11" y="187.8398"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="21" y="208.9785">wait for signal:</text><text fill="#FF0000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="77" x="113" y="208.9785">write_ready</text><polygon fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" points="64.5,139.4375,146.5,139.4375,158.5,151.4375,146.5,163.4375,64.5,163.4375,52.5,151.4375,64.5,139.4375" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="109.5" y="173.6479">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="68.5" y="155.2456">is buffer full?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="158.5" y="148.8433">no</text><polygon fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" points="105.5,241.8086,117.5,253.8086,105.5,265.8086,93.5,253.8086,105.5,241.8086" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="81" x="65" y="334.2109"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61" x="75" y="355.3496">write data</text><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="98" x="56.5" y="403.1797"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="39" x="66.5" y="424.3184">signal:</text><text fill="#008000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="35" x="109.5" y="424.3184">ready</text><polygon fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" points="35,285.8086,176,285.8086,188,297.8086,176,309.8086,35,309.8086,23,297.8086,35,285.8086" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="109.5" y="320.019">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="39" y="301.6167">free space</text><text fill="#000000" font-family="monospace" font-size="11" lengthAdjust="spacing" textLength="14" x="103" y="301.6167">&gt;=</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="51" x="121" y="301.6167">data size</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="188" y="295.2144">no</text><polygon fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" points="105.5,457.1484,117.5,469.1484,105.5,481.1484,93.5,469.1484,105.5,457.1484" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="100" x="55.5" y="501.1484"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="65.5" y="522.2871">unlock buffer</text><ellipse cx="105.5" cy="565.1172" fill="#FFFFFF" filter="url(#f17xfgjgxqafxa)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="99.3128" x2="111.6872" y1="558.93" y2="571.3044"/><line style="stroke:#000000;stroke-width:2.5;" x1="111.6872" x2="99.3128" y1="558.93" y2="571.3044"/><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="52" x="289" y="31.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="32" x="299" y="52.6387">Drain</text><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="84" x="273" y="85.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64" x="283" y="106.6074">lock buffer</text><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="182" x="224" y="187.8398"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="234" y="208.9785">wait for signal:</text><text fill="#008000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="70" x="326" y="208.9785">read_ready</text><polygon fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" points="264.5,139.4375,365.5,139.4375,377.5,151.4375,365.5,163.4375,264.5,163.4375,252.5,151.4375,264.5,139.4375" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="319" y="173.6479">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="268.5" y="155.2456">is buffer empty?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="377.5" y="148.8433">no</text><polygon fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" points="315,241.8086,327,253.8086,315,265.8086,303,253.8086,315,241.8086" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="78" x="276" y="334.2109"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58" x="286" y="355.3496">read data</text><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="140" x="245" y="403.1797"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="39" x="255" y="424.3184">signal:</text><text fill="#FF0000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="77" x="298" y="424.3184">write_ready</text><polygon fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" points="240,285.8086,390,285.8086,402,297.8086,390,309.8086,240,309.8086,228,297.8086,240,285.8086" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="319" y="320.019">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="244" y="301.6167">buffer data</text><text fill="#000000" font-family="monospace" font-size="11" lengthAdjust="spacing" textLength="14" x="311" y="301.6167">&gt;=</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="329" y="301.6167">requested</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="402" y="295.2144">no</text><polygon fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" points="315,457.1484,327,469.1484,315,481.1484,303,469.1484,315,457.1484" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f17xfgjgxqafxa)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="100" x="265" y="501.1484"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="275" y="522.2871">unlock buffer</text><ellipse cx="315" cy="565.1172" fill="#FFFFFF" filter="url(#f17xfgjgxqafxa)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="308.8128" x2="321.1872" y1="558.93" y2="571.3044"/><line style="stroke:#000000;stroke-width:2.5;" x1="321.1872" x2="308.8128" y1="558.93" y2="571.3044"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="65.4688" y2="85.4688"/><polygon fill="#A80036" points="101.5,75.4688,105.5,85.4688,109.5,75.4688,105.5,79.4688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="163.4375" y2="187.8398"/><polygon fill="#A80036" points="101.5,177.8398,105.5,187.8398,109.5,177.8398,105.5,181.8398" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="158.5" x2="210" y1="151.4375" y2="151.4375"/><polygon fill="#A80036" points="206,194.8242,210,204.8242,214,194.8242,210,198.8242" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="210" x2="210" y1="151.4375" y2="253.8086"/><line style="stroke:#A80036;stroke-width:1.5;" x1="210" x2="117.5" y1="253.8086" y2="253.8086"/><polygon fill="#A80036" points="127.5,249.8086,117.5,253.8086,127.5,257.8086,123.5,253.8086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="221.8086" y2="241.8086"/><polygon fill="#A80036" points="101.5,231.8086,105.5,241.8086,109.5,231.8086,105.5,235.8086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="119.4375" y2="139.4375"/><polygon fill="#A80036" points="101.5,129.4375,105.5,139.4375,109.5,129.4375,105.5,133.4375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="368.1797" y2="403.1797"/><polygon fill="#A80036" points="101.5,393.1797,105.5,403.1797,109.5,393.1797,105.5,397.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="309.8086" y2="334.2109"/><polygon fill="#A80036" points="101.5,324.2109,105.5,334.2109,109.5,324.2109,105.5,328.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="188" x2="200" y1="297.8086" y2="297.8086"/><polygon fill="#A80036" points="196,375.6797,200,385.6797,204,375.6797,200,379.6797" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="200" x2="200" y1="297.8086" y2="469.1484"/><line style="stroke:#A80036;stroke-width:1.5;" x1="200" x2="117.5" y1="469.1484" y2="469.1484"/><polygon fill="#A80036" points="127.5,465.1484,117.5,469.1484,127.5,473.1484,123.5,469.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="437.1484" y2="457.1484"/><polygon fill="#A80036" points="101.5,447.1484,105.5,457.1484,109.5,447.1484,105.5,451.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="265.8086" y2="285.8086"/><polygon fill="#A80036" points="101.5,275.8086,105.5,285.8086,109.5,275.8086,105.5,279.8086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="481.1484" y2="501.1484"/><polygon fill="#A80036" points="101.5,491.1484,105.5,501.1484,109.5,491.1484,105.5,495.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="535.1172" y2="555.1172"/><polygon fill="#A80036" points="101.5,545.1172,105.5,555.1172,109.5,545.1172,105.5,549.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="315" y1="65.4688" y2="85.4688"/><polygon fill="#A80036" points="311,75.4688,315,85.4688,319,75.4688,315,79.4688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="315" y1="163.4375" y2="187.8398"/><polygon fill="#A80036" points="311,177.8398,315,187.8398,319,177.8398,315,181.8398" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="377.5" x2="416" y1="151.4375" y2="151.4375"/><polygon fill="#A80036" points="412,194.8242,416,204.8242,420,194.8242,416,198.8242" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="416" x2="416" y1="151.4375" y2="253.8086"/><line style="stroke:#A80036;stroke-width:1.5;" x1="416" x2="327" y1="253.8086" y2="253.8086"/><polygon fill="#A80036" points="337,249.8086,327,253.8086,337,257.8086,333,253.8086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="315" y1="221.8086" y2="241.8086"/><polygon fill="#A80036" points="311,231.8086,315,241.8086,319,231.8086,315,235.8086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="315" y1="119.4375" y2="139.4375"/><polygon fill="#A80036" points="311,129.4375,315,139.4375,319,129.4375,315,133.4375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="315" y1="368.1797" y2="403.1797"/><polygon fill="#A80036" points="311,393.1797,315,403.1797,319,393.1797,315,397.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="315" y1="309.8086" y2="334.2109"/><polygon fill="#A80036" points="311,324.2109,315,334.2109,319,324.2109,315,328.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="402" x2="414" y1="297.8086" y2="297.8086"/><polygon fill="#A80036" points="410,375.6797,414,385.6797,418,375.6797,414,379.6797" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="414" x2="414" y1="297.8086" y2="469.1484"/><line style="stroke:#A80036;stroke-width:1.5;" x1="414" x2="327" y1="469.1484" y2="469.1484"/><polygon fill="#A80036" points="337,465.1484,327,469.1484,337,473.1484,333,469.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="315" y1="437.1484" y2="457.1484"/><polygon fill="#A80036" points="311,447.1484,315,457.1484,319,447.1484,315,451.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="315" y1="265.8086" y2="285.8086"/><polygon fill="#A80036" points="311,275.8086,315,285.8086,319,275.8086,315,279.8086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="315" y1="481.1484" y2="501.1484"/><polygon fill="#A80036" points="311,491.1484,315,501.1484,319,491.1484,315,495.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="315" y1="535.1172" y2="555.1172"/><polygon fill="#A80036" points="311,545.1172,315,555.1172,319,545.1172,315,549.1172" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d0c6eb3dd4427ba2d8166791e3e36e95]
@startuml
'https://plantuml.com/state-diagram

split
    -[hidden]->
    :Fill;
    :lock buffer;
    if( is buffer full? ) then (yes)
        :wait for signal: ""<color red>write_ready</color>"";
    else (no)
    endif
     if( free space "">="" data size ) then (yes)
        :write data;
        :signal: ""<color green>ready</color>"";
    else (no)
    endif
    :unlock buffer;
    end
split again
    -[hidden]->
    :Drain;
    :lock buffer;
    if( is buffer empty? ) then (yes)
        :wait for signal: ""<color green>read_ready</color>"";
    else (no)
    endif
    if( buffer data "">="" requested ) then (yes)
        :read data;
        :signal: ""<color red>write_ready</color>"";
    else (no)
    endif
    :unlock buffer;
    end
end split

@enduml

@startuml

split
    -[hidden]->
    :Fill;
    :lock buffer;
    if( is buffer full? ) then (yes)
        :wait for signal: ""<color red>write_ready</color>"";
    else (no)
    endif
     if( free space "">="" data size ) then (yes)
        :write data;
        :signal: ""<color green>ready</color>"";
    else (no)
    endif
    :unlock buffer;
    end
split again
    -[hidden]->
    :Drain;
    :lock buffer;
    if( is buffer empty? ) then (yes)
        :wait for signal: ""<color green>read_ready</color>"";
    else (no)
    endif
    if( buffer data "">="" requested ) then (yes)
        :read data;
        :signal: ""<color red>write_ready</color>"";
    else (no)
    endif
    :unlock buffer;
    end
end split

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>